<html>
<head>
<style>
  * { 
      box-sizing: border-box; 
  }
  body {
    width: 100%;
    background: black;
    color: white;
  }
  #gated {
    display: none;
  }
  details > div {
    width: 100%;
    margin: 4px 0px 4px 32px;
  }
  summary {
    padding: 8px;
    cursor: pointer;
  }
  .videoLink {
    margin: 8px;
    padding: 8px;
    cursor: pointer;
    border-radius: 16px;
    background: orange;
  }
</style>
</head>
<body>
<main>
  <input id="code" />
  <div id=gated>
  </div>
</main>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
  const listEl = document.getElementById('gated');
  
  function newEl(tag, className, text) {
    const el = document.createElement(tag);
    if (className) {
      el.className = className;
    }
    if (text) {
      el.textContent = text;
    }
    return el;
  }
  
  function showList(movies) {
    while (listEl.lastChild) {
      listEl.lastChild.remove();
    }
    
    movies.forEach(m => listEl.appendChild(makeMovie(m)));
  }
  
  function makeMovie(data) {
    const details = newEl('details');
    details.setAttribute('open', 'open');
    const summary = newEl('summary', '', data.movie);
    details.appendChild(summary);
    
    const content = newEl('div', 'seasons');
    details.appendChild(content);
    data.seasons.forEach((s, i) => content.appendChild(makeSeason(s, i, data.movie)));
    
    return details;
  }
  
  function makeSeason(data, index, movieName) {
    const details = newEl('details');
    details.setAttribute('open', 'open');
    const seasonName = data.season || `Season ${index + 1}`;
    const summary = newEl('summary', '', `${movieName} - ${seasonName}`);
    details.appendChild(summary);
    
    const content = newEl('div', 'episodes');
    details.appendChild(content);
    data.episodes.forEach(e => content.appendChild(makeEpisode(e)));
    
    return details;
  }
  
  function makeEpisode(data) {
    const item = newEl('a', 'videoLink', data.name);
    item.setAttribute('href', data.embed);
    return item;
  }
  
  function setCookie(name,value,days) {
      var expires = "";
      if (days) {
          var date = new Date();
          date.setTime(date.getTime() + (days*24*60*60*1000));
          expires = "; expires=" + date.toUTCString();
      }
      document.cookie = name + "=" + (value || "")  + expires + ";";
  }
  
  function getCookie(name) {
      var nameEQ = name + "=";
      var ca = document.cookie.split(';');
      for(var i=0;i < ca.length;i++) {
          var c = ca[i];
          while (c.charAt(0)==' ') c = c.substring(1,c.length);
          if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
      }
      return null;
  }
  
  function resolve({ target }) {
    const code = target.value;
    if (!code) {
      return;
    }
    openGate(code);
    setCookie('encryptedCode', code, 1000);
  }
  
  function openGate(key) {
    const data = JSON.parse(CryptoJS.AES.decrypt(encrypted, key).toString(CryptoJS.enc.Utf8));
    if (Array.isArray(data) && data[0].movie) {
      showList(data);
      document.getElementById('code').style.display = 'none';
      document.getElementById('gated').style.display = 'block';
    }
  }
  
  function init() {
    try {
      const code = getCookie('encryptedCode');
      if (code) {
        openGate(code);
        return;
      }
    } catch (e) {}
    document.getElementById('code').addEventListener('keypress', event => event.keyCode === 13 && resolve(event));
  }

  const encrypted = "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";
 
  init();
</script>
</body>
</html>
